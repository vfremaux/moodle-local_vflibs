/**
 * Javascript controller for orderedselect.
 *
 * @module     local_vflibs/orderedselect
 * @package    local_vflibs
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_vflibs/orderedselect",["jquery","core/log"],(function($,log){var orderedselect={captured:null,selectedoptions:[],init:function(params){$(".orderedselect-delete").bind("click",this.removeselecteditem),$(".orderedselect-select").bind("change",this.updatevalues),$(".orderedselect-option").bind("mousedown",this.captureselecteditem),$(".orderedselect-option").bind("mousedrag",this.drag),$(".orderedselect-option").bind("mouseup",this.releaseselecteditem),this.selectedoptions=params.options,log.debug("AMD orderedselect initialized")},toggleoption:function(){var that=$(this),selectobj=that.nearest("select"),valueid="#"+selectobj.attr("id")+"-value",selectionid="#"+selectobj.attr("id")+"-selection";if(iselected)$newnode=$(selectionid).appendNode(),selectedoptions[that.attr("value")]=newnode,$(valueid).html(orderedselect.selectedoptions.join(","));else{for(opt in removedoptions=new Array,selectedoptions)opt!=that.attr("value")&&(removedoptions[opt]=selectedoptions[opt]);$(valueid).html(orderedselect.removedoptions.join(","));var optionid=selectobj.attr("id")+"-"+that.attr("value");$(selectionid).deleteNode(optionid)}},captureselecteditem:function(e){e.preventDefault(),e.stopPropagation();var that=$(this);orderedselect.captured=that,that.css("position","absolute"),that.css("opacity",.5)},dragselecteditem:function(e){e.preventDefault(),e.stopPropagation(),$(this).attr("id")===orderedselect.captured&&orderedselect.captured},releaseselecteditem:function(e){e.preventDefault(),e.stopPropagation();var that=$(this);orderedselect.captured=null,that.css("position",""),that.css("opacity",1)},removeselecteditem:function(){$(this).nearest("orderedselect-option")}};return orderedselect}));

//# sourceMappingURL=orderedselect.min.js.map